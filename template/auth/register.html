{% extends './base.html' %} 
{% load static %}  

{% block bodys %}
<p class="mb-0">
    <span class="me-2">Already have an account?</span>
    <a class="btn main-btn btn-sm" href="/login">Login</a>
</p>
{% endblock bodys %}

{% block body %}
<center class="w-full text-red-700 bg-white/60 m-2 flex items-center rounded shadow justify-center" id="response-container"></center>

<form action="" 
      hx-post="{% url 'registerApi' %}" 
      hx-target="#response-container" 
      hx-swap="innerhtml" 
      method="POST"
      hx-on:htmx:beforeRequest="document.getElementById('submit-btn').disabled = true; document.getElementById('submit-text').textContent = 'Submitting...';"
      hx-on:htmx:afterRequest="document.getElementById('submit-btn').disabled = false; document.getElementById('submit-text').textContent = 'Register';">
    
    {% csrf_token %}

    <div class="mb-3">
        <label for="username">Username</label>
        <input type="text" class="form-control" name="username" id="username" required placeholder="Enter your username">
    </div>

    <div class="mb-3">
        <label for="email">Email</label>
        <input type="email" class="form-control" name="email" id="email" required placeholder="Enter your email">
    </div>

    <div class="mb-3">
        <label for="password">Password</label>
        <input type="password" class="form-control" name="password" id="password" required placeholder="Enter password">
    </div>

    <div class="mb-3">
        <label for="password1">Confirm Password</label>
        <input type="password" class="form-control" name="password1" id="password1" required placeholder="Confirm password">
    </div>

    <div class="mb-3">
        <label for="Code">Referral Code (Optional)</label>
        <input type="text" class="form-control" name="Code" id="Code" placeholder="Enter referral Code (optional)">
    </div>

    <button class="btn w-100 mt-3 bg-blue-500 text-white" id="submit-btn" type="submit">
        <span id="submit-text">Register</span>
    </button>

</form>

{% endblock body %}
